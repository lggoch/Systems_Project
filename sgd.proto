syntax = "proto3";

package stochastic;


service SGD{
	// the client send the data to a server to compute a gradient step
	rpc ComputeTask(LWB) returns (Update) {}

}

// the parameters necessary to compute the gradient
message LWB{
	int32 labels = 1;
	repeated float weights = 2;
	map<int32, float> batch = 3;
	float corr_1 = 4;
	float corr_2 = 5;
	float lambda_ = 6;
}

// the gradient of the non-null dimensions
message Update{
	map<int32,float> grad_up = 1;
}
